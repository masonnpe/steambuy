# steambuy

jwt  
springcloud  
spark  
RabbitMQ 异步调用


商品的基本信息（名称、规格参数等）采取MQ异步通知的方式，监听MQ消息，然后异步拉取服务的数据 更新redis和ehcache

商品价格/库存等时效性要求高的数据，直接采取数据库和redis缓存双写的方案，这样缓存的时效性最高



冷启动 缓存预热

详情页滚动分段加载
1、redis集群彻底崩溃

2、缓存服务大量对redis的请求hang住，占用资源

3、缓存服务大量的请求打到源头服务去查询mysql，直接打死mysql

4、源头服务因为mysql被打死也崩溃，对源服务的请求也hang住，占用资源

5、缓存服务大量的资源全部耗费在访问redis和源服务无果，最后自己被拖死，无法提供服务

6、nginx无法访问缓存服务，redis和源服务，只能基于本地缓存提供服务，但是缓存过期后，没有数据提供

7、网站崩溃


